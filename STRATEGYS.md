# Стратегии игры Антона Шастуна
В первую очередь, стоит отметить, что в игре Шастуна присутствует так называемый "**ход природы**" - вероятностное событие внешнего мира, на которое игроки никак повлиять не могут.

Так как фактически в любой  ход любого игрока происходит ход природы, то мы **не можем быть уверены, что предложенные стратегии (и вообще любые стратегии) приведут нас к победе** - нам может просто не повезти.

Представьте, Вам будет постоянно выпадать (1, 1). Кроме как шулерства, которое в рамках нашей игры запрещено, Вы более никак не сможете повлиять на ход природы.

Из всего вышесказанного следует, что **СТРАТЕГИИ** просто-напросто **ПОВЫШАЮТ ВАШУ ВЕРОЯТНОСТЬ ПОБЕДИТЬ**, тогда как эта самая вероятность, забегая вперёд, практически никогда не превышает 55% при игре вдвоём с другим игроком.

## Стратегия №1. Полный рандом
Введём оценочную стратегию случайного выбора хода, которую в будущем будем сравнивать с более существенными стратегиями.

1) Если доступен ТОЛЬКО ход перевернуть x, y -> то ходим так.
2) Если доступен ТОЛЬКО ход перевернуть x + y -> то ходим так.
3) Если доступны оба варианта хода, то будем выбирать ход случайным образом.

**Важно!** В данной стратегии отсутствует вариант не ходить по собственной воле. То есть, если ход возможен, то он будет сделан.

## Стратегия №2. Модель учёта будущей вероятности
Давайте введём модель, основываясь на вероятности выпадения в будущем неперевёрнутых на данном ходу чисел.

1) Если доступен ТОЛЬКО ход перевернуть x, y -> то ходим так.
2) Если доступен ТОЛЬКО ход перевернуть x + y -> то ходим так.
3) Если доступны оба варианта хода, то будем выбирать ход следующим образом.

Допустим, на данном ходу нам выпало x, y. У нас есть два варианта: либо перевернуть x и y, либо перевернуть x + y. Какой из них нам выбрать?

Давайте представим, что мы перевернули x, y. Тогда наше поле изменилось, ведь на нём теперь перевёрнуты фишки x, y. Посчитаем (с учётом перевёрнутых фишек) всевозможные комбинации того, что нам на получившемся поле выпадет число x + y. Пусть получившееся число комбинаций равно k<sub>1</sub>.

Теперь давайте аналогично представим, что мы перевернули фишку x + y. Тогда наше поле изменилось, ведь на нём теперь перевёрнута фишка x + y. Посчитаем (с учётом перевёрнутых фишек) всевозможные комбинации того, что нам на получившемся поле выпадет число x или число y. Пусть получившееся число комбинаций равно k<sub>2</sub>.

Сравниваем получившиеся числа k<sub>1</sub> и k<sub>2</sub>. Выбираем ту стратегию, в которой число комбинаций равно наибольшему из этих чисел.

Если объяснять, как это работает, ПО-ПРОСТОМУ, то мы просто ОСТАВЛЯЕМ то число (или те числа), вероятность выбить которые в будущем больше. А переворачиаем то число (или те числа), у которых эта вероятность меньше.

**Важно!** В данной стратегии отсутствует вариант не ходить по собственной воле. То есть, если ход возможен, то он будет сделан.

## Стратегия №3. Модифицированная модель Цермелло
Данная стратегия призвана быть самой успешной, поскольку основана на анализе игры не с начала, а с конца.

Наша игра **динамическая**. То есть ситуация в игре меняется на каждом ходу и игроки ходят последовательно.
Для любой динамической игры можно построить дерево. В нашем случае, оно будет бесконечным. Например, если постоянно будет падать (1, 1), то образуется бесконечная ветка дерева.

Чтобы этого избежать, давайте немного модифицируем наше дерево. Введём **ПРОСТРАНСТВО СОСТОЯНИЙ** нашей игры.

Нетрудно посчитать, что всего состояний в нашей игре 2<sup>12</sup> = 2048 (потому что каждая из 12 фишек может находиться в одном из двух состояний: перевёрнута или не перевёрнута).

Нам нужно посчитать **СРЕДНЕЕ КОЛИЧЕСТВО ХОДОВ ДЛЯ ПОБЕДЫ** для каждого из состояний. Так мы сможем для каждого из состояний игры понять, в какое состояние с учётом наших ходов мы можем перейти. И выберем из возможных состояний для перехода то, в котором среднее количество ходов до победы наименьшее.
